webpackJsonp([13],{MVjY:function(e,a,t){a=e.exports=t("FZ+f")(!1),a.push([e.i,"\n.el-form .el-input[data-v-0201a7f4], .el-textarea[data-v-0201a7f4] {\n  width: 420px;\n}\n.el-button[data-v-0201a7f4] {\n  width: 120px;\n}\n.avatar-uploader .el-upload[data-v-0201a7f4] {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload[data-v-0201a7f4]:hover {\n  border-color: #409EFF;\n}\n.avatar-uploader-icon[data-v-0201a7f4] {\n  font-size: 28px;\n  color: #8c939d;\n  width: 148px;\n  height: 148px;\n  line-height: 148px;\n  text-align: center;\n}\n.avatar[data-v-0201a7f4] {\n  width: 146px;\n  height: 146px;\n  display: block;\n}\n.avatar-ad[data-v-0201a7f4] {\n  width: 600px;\n  height: 80px;\n}\n.swiper-img[data-v-0201a7f4] {\n  width: 100%;\n  height: 100%;\n}\n\n/*.all-box {\n  overflow: hidden;\n  margin-top: 25px;\n}\n\n.ev-img {\n  float: left;\n  width: 20%;\n  padding: 10px;\n  box-sizing: border-box;\n}*/\n.ipt-link[data-v-0201a7f4] {\n  width: 20%;\n}\n.upload-box[data-v-0201a7f4] {\n  margin-top: 45px;\n}\n",""])},XLhj:function(e,a,t){var i=t("MVjY");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t("rjj0")("73fdc0d6",i,!0)},nYw9:function(e,a,t){"use strict";function i(e){t("XLhj")}Object.defineProperty(a,"__esModule",{value:!0});var r=t("6Trz"),o=t("hYS1"),l={data:function(){return{hint:{title:"操作提示",content:"店铺的基本设置，请如实填写。轮播设置可以设置最多五张图片，关联到5个链接用于店铺推广"},shop_img:{logo:"",ad:"",head:""},logo_fileList:[],ad_fileList:[],head_fileList:[],pc_img:[],pc_fileList:[],app_img:[],app_fileList:[],area:{province:[],city:[],county:[]},ruleForm:{grade_name:"",shop_name:"",logo:"",ad:"",head:"",qq_service:"",nav_color:"",phone:"",mobile:"",receive_name:"",province_id:"",province_name:"",city_id:"",city_name:"",county_id:"",county_name:"",addr:"",zip:"",keywords:"",description:"",pc_imgs:[],m_imgs:[]},rules:{phone:[{required:!0,message:"请输入店铺电话",trigger:"blur"}],county_id:[{required:!0,type:"number",message:"请选择地址",trigger:"blur"}],addr:[{required:!0,message:"请填写详细地址",trigger:"blur"}]}}},created:function(){this.get_data()},mounted:function(){this.getArea(0,0)},methods:{handlePreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleAvatarSuccess:function(e,a,t,i){switch(i){case 0:this.ruleForm.logo=e.key,this.shop_img.logo=URL.createObjectURL(a.raw);break;case 1:this.ruleForm.ad=e.key,this.shop_img.ad=URL.createObjectURL(a.raw);break;case 2:this.ruleForm.head=e.key,this.shop_img.head=URL.createObjectURL(a.raw)}},upSuccess:function(e,a,t,i){this.pc_img.push({img:e.key,link:""}),this.ruleForm.pc_imgs.push({img:""+i+e.key})},upSuccess2:function(e,a,t,i){this.app_img.push({img:e.key,link:""}),this.ruleForm.m_imgs.push({img:""+i+e.key})},beforeAvatarUpload:function(e){var a="image/jpeg"===e.type||"image/png",t=e.size/1024/1024<1;return a||this.$message.error("上传图片必须是JPG或PNG格式!"),t||this.$message.error("上传图片大小不能超过 1MB!"),a&&t},handleRemove:function(e,a){var t=[];this.pc_img.forEach(function(a){e.response?a.img!=e.response.path&&t.push(a):a.img!=e.url&&t.push(a)}),this.pc_img=t},handleRemove2:function(e,a){var t=[];this.app_img.forEach(function(a){e.response?a.img!=e.response.path&&t.push(a):a.img!=e.url&&t.push(a)}),this.app_img=t},exceed:function(){this.$message("最多上传5张图片")},get_data:function(){var e=this;this.axios.post(this.getApi("seller/auth/shop_setting_page")).then(function(a){0===a.data.code?(a.data.info.pc_imgs=a.data.info.pc_imgs||[],a.data.info.m_imgs=a.data.info.m_imgs||[],e.ruleForm=a.data.info,e.shop_img.head=a.data.info.head,e.shop_img.ad=a.data.info.ad,e.shop_img.logo=a.data.info.logo,e.logo_fileList=a.data.info.logo?[{url:a.data.info.logo}]:[],e.ad_fileList=a.data.info.ad?[{url:a.data.info.ad}]:[],e.head_fileList=a.data.info.head?[{url:a.data.info.head}]:[],e.pc_fileList=[],e.pc_img=[],a.data.info.pc_imgs.forEach(function(a){e.pc_fileList.push({name:"",url:a.img}),e.pc_img.push(a)}),e.app_fileList=[],e.app_img=[],a.data.info.m_imgs.forEach(function(a){e.app_fileList.push({name:"",url:a.img}),e.app_img.push(a)}),e.area.city=[{id:a.data.info.city_id,name:a.data.info.city_name}],e.area.county=[{id:a.data.info.county_id,name:a.data.info.county_name}]):e.$message(a.data.msg)}).catch(function(a){console.log(a),e.$message("对不起！请稍后再试")})},submitForm:function(e){var a=this;this.$refs[e].validate(function(e){e&&a.antiShake.antiShake(function(e,t){a.axios.post(a.getApi("seller/auth/shop_setting_save"),a.dafa({logo:a.ruleForm.logo,ad:a.ruleForm.ad,head:a.ruleForm.head,qq_service:a.ruleForm.qq_service,phone:a.ruleForm.phone,mobile:a.ruleForm.mobile,receive_name:a.ruleForm.receive_name,province_id:a.ruleForm.province_id,city_id:a.ruleForm.city_id,nav_color:a.ruleForm.nav_color,county_id:a.ruleForm.county_id,addr:a.ruleForm.addr,zip:a.ruleForm.zip,keywords:a.ruleForm.keywords,description:a.ruleForm.description,pc_imgs:a.pc_img,m_imgs:a.app_img})).then(function(t){e(t),0===t.data.code&&a.get_data()}).catch(function(e){t(e)})})})},getArea:function(e,a){var t=this;this.axios.post(this.getApi("coms/get_area"),"id="+e).then(function(e){if(0===e.data.code)switch(a){case 0:t.area.province=e.data.list;break;case 1:t.area.city=e.data.list,t.ruleForm.city_id="",t.area.county=[],t.ruleForm.county_id="";break;case 2:t.area.county=e.data.list,t.ruleForm.county_id=""}})}},components:{hint:r.a,uploadItem:o.a}},n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"m-type-list m-prop-box"},[t("hint",{attrs:{title:e.hint.title,content:e.hint.content}}),e._v(" "),t("el-tabs",{attrs:{type:"border-card"}},[t("el-tab-pane",{attrs:{label:"店铺设置"}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"240px"}},[t("el-form-item",{attrs:{label:"店铺等级"}},[e._v("\n          "+e._s(e.ruleForm.grade_name)+"\n        ")]),e._v(" "),t("el-form-item",{attrs:{label:"店铺名称"}},[e._v("\n          "+e._s(e.ruleForm.shop_name)+"\n        ")]),e._v(" "),t("el-form-item",{attrs:{label:"店铺LOGO"}},[t("upload-item",{attrs:{onSuccess:function(a,t,i){e.handleAvatarSuccess(a,t,i,0)},onRemove:e.handleRemove,fileList:e.logo_fileList,limit:1,severType:11}})],1),e._v(" "),t("el-form-item",{attrs:{label:"店铺条幅"}},[t("upload-item",{attrs:{onSuccess:function(a,t,i){e.handleAvatarSuccess(a,t,i,1)},onRemove:e.handleRemove,fileList:e.ad_fileList,limit:1,severType:11}}),e._v(" "),t("em",{staticClass:"c-danger"},[e._v("店铺条幅是店铺首页长条形横幅，长1920px宽120px")])],1),e._v(" "),t("el-form-item",{attrs:{label:"店铺头像"}},[t("upload-item",{attrs:{onSuccess:function(a,t,i){e.handleAvatarSuccess(a,t,i,2)},onRemove:e.handleRemove,fileList:e.head_fileList,limit:1,severType:11}})],1),e._v(" "),t("el-form-item",{attrs:{label:"客服QQ"}},[t("el-input",{model:{value:e.ruleForm.qq_service,callback:function(a){e.$set(e.ruleForm,"qq_service",e._n(a))},expression:"ruleForm.qq_service"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"店铺电话",prop:"phone"}},[t("el-input",{model:{value:e.ruleForm.phone,callback:function(a){e.$set(e.ruleForm,"phone",a)},expression:"ruleForm.phone"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"店铺手机"}},[t("el-input",{model:{value:e.ruleForm.mobile,callback:function(a){e.$set(e.ruleForm,"mobile",a)},expression:"ruleForm.mobile"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"卖家收货人姓名"}},[t("el-input",{model:{value:e.ruleForm.receive_name,callback:function(a){e.$set(e.ruleForm,"receive_name",a)},expression:"ruleForm.receive_name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"卖家收货地址"}},[t("el-col",{attrs:{span:6}},[t("el-form-item",[t("el-select",{attrs:{placeholder:"请选择"},on:{change:function(a){e.getArea(a,1)}},model:{value:e.ruleForm.province_id,callback:function(a){e.$set(e.ruleForm,"province_id",a)},expression:"ruleForm.province_id"}},[t("el-option",{attrs:{label:"请选择",value:"",disabled:""}}),e._v(" "),e._l(e.area.province,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})],2)],1)],1),e._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",[t("el-select",{attrs:{placeholder:"请选择"},on:{change:function(a){e.getArea(a,2)}},model:{value:e.ruleForm.city_id,callback:function(a){e.$set(e.ruleForm,"city_id",a)},expression:"ruleForm.city_id"}},[t("el-option",{attrs:{label:"请选择",value:"",disabled:""}}),e._v(" "),e._l(e.area.city,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})],2)],1)],1),e._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{prop:"county_id"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.county_id,callback:function(a){e.$set(e.ruleForm,"county_id",a)},expression:"ruleForm.county_id"}},[t("el-option",{attrs:{label:"请选择",value:"",disabled:""}}),e._v(" "),e._l(e.area.county,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})],2)],1)],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"卖家收货详细地址",prop:"addr"}},[t("el-input",{model:{value:e.ruleForm.addr,callback:function(a){e.$set(e.ruleForm,"addr",a)},expression:"ruleForm.addr"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"店铺头部导航条主题色"}},[t("el-color-picker",{model:{value:e.ruleForm.nav_color,callback:function(a){e.$set(e.ruleForm,"nav_color",a)},expression:"ruleForm.nav_color"}}),e._v(" "),t("em",{staticClass:"c-danger"},[e._v("此主题色会改变商品详情和店铺首页导航背景色，字体色为#fff白色，请谨慎配色")])],1),e._v(" "),t("el-form-item",{attrs:{label:"卖家收货地址邮编"}},[t("el-input",{model:{value:e.ruleForm.zip,callback:function(a){e.$set(e.ruleForm,"zip",a)},expression:"ruleForm.zip"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"SEO关键词"}},[t("el-input",{model:{value:e.ruleForm.keywords,callback:function(a){e.$set(e.ruleForm,"keywords",a)},expression:"ruleForm.keywords"}}),e._v(" "),t("p",{staticClass:"c-danger"},[e._v("用于店铺搜索引擎的优化，关键字之间请用 _ 分隔,12个字以内")])],1),e._v(" "),t("el-form-item",{attrs:{label:"SEO描述"}},[t("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.ruleForm.description,callback:function(a){e.$set(e.ruleForm,"description",a)},expression:"ruleForm.description"}}),e._v(" "),t("p",{staticClass:"c-danger"},[e._v("用于店铺搜索引擎的优化，建议120字以内")])],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.submitForm("ruleForm")}}},[e._v("确 认")])],1)],1)],1),e._v(" "),t("el-tab-pane",{attrs:{label:"pc端轮播设置"}},[t("el-carousel",{attrs:{autoplay:!1,height:"240px",arrow:"always"}},e._l(e.ruleForm.pc_imgs,function(e){return t("el-carousel-item",{key:e.link},[t("img",{staticClass:"swiper-img",attrs:{src:e.img,alt:"lara-shop商城店铺轮播图"}})])})),e._v(" "),t("div",{staticClass:"upload-box"},[t("upload-item",{attrs:{onSuccess:e.upSuccess,onRemove:e.handleRemove,fileList:e.pc_fileList,severType:11}}),e._v(" "),t("p",{staticClass:"c-danger"},[e._v("跳转url：")]),e._v(" "),e._l(e.pc_img,function(a){return t("el-input",{key:a.img,staticClass:"ipt-link",attrs:{placeholder:"请输入连接地址"},model:{value:a.link,callback:function(t){e.$set(a,"link",t)},expression:"item.link"}})})],2)],1),e._v(" "),t("el-tab-pane",{attrs:{label:"app端轮播设置"}},[t("el-carousel",{attrs:{autoplay:!1,height:"240px",arrow:"always"}},e._l(e.ruleForm.m_imgs,function(e){return t("el-carousel-item",{key:e.link},[t("img",{staticClass:"swiper-img",attrs:{src:e.img,alt:"lara-shop商城店铺轮播图"}})])})),e._v(" "),t("div",{staticClass:"upload-box"},[t("upload-item",{attrs:{onSuccess:e.upSuccess2,onRemove:e.handleRemove2,fileList:e.app_fileList,severType:11}}),e._v(" "),t("p",{staticClass:"c-danger"},[e._v("跳转url：")]),e._v(" "),e._l(e.app_img,function(a){return t("el-input",{key:a.img,staticClass:"ipt-link",attrs:{placeholder:"请输入连接地址"},model:{value:a.link,callback:function(t){e.$set(a,"link",t)},expression:"item.link"}})})],2)],1)],1)],1)},s=[],c={render:n,staticRenderFns:s},m=c,u=t("VU/8"),d=i,p=u(l,m,!1,d,"data-v-0201a7f4",null);a.default=p.exports}});