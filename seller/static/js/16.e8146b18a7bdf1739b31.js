webpackJsonp([16],{U01u:function(t,e,a){var i=a("ptTz");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("7d0d58a4",i,!0)},ptTz:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,"\n.fl-tit[data-v-5cf6ec1e] {\n  height: 40px;\n  line-height: 40px;\n  text-align: center;\n  font-size: 14px;\n  color: #333;\n  border-bottom: 1px solid #ededed;\n}\n.fl-con[data-v-5cf6ec1e] {\n  text-align: center;\n}\n.clear-fl[data-v-5cf6ec1e] {\n  overflow: hidden;\n  border-bottom: 1px solid #ededed;\n}\n.fl-name[data-v-5cf6ec1e] {\n  float: left;\n  display: inline-block;\n  width: 55%;\n  font-size: 14px;\n  text-align: left;\n  padding-left: 10px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.fl-item[data-v-5cf6ec1e] {\n  float: left;\n  width: 15%;\n  display: inline-block;\n}\n.fl-dd[data-v-5cf6ec1e] {\n  line-height: 50px;\n}\n.fl-name-box[data-v-5cf6ec1e] {\n  margin: 0 15px 0 5px;\n}\n.fl-i[data-v-5cf6ec1e] {\n  color: #999;\n  padding: 5px;\n}\n.fl-i-w[data-v-5cf6ec1e] {\n  margin-left: 25px;\n  color: #ddd;\n}\n.el-ipt[data-v-5cf6ec1e] {\n  width: 290px;\n}\n",""])},zTFM:function(t,e,a){"use strict";function i(t){a("U01u")}Object.defineProperty(e,"__esModule",{value:!0});var n=a("woOf"),s=a.n(n),l=a("6Trz"),o={data:function(){return{hint:{title:"操作提示",content:"导航管理，有商家设置管理。"},tableData:[],dialogVisible:!1,ruleForm:{id:"",pid:0,name:"",sort:"",show:0},rules:{name:[{required:!0,message:"请输入分类名",trigger:"blur"}],pid:[{required:!0,type:"number",message:"请选择上级分类",trigger:"blur"}]},id:"",fl:[],loading:!0}},created:function(){this.getDataList()},methods:{getDataList:function(){var t=this;this.axios.post(this.getApi("seller/auth/shop_cate_list")).then(function(e){t.loading=!1,0===e.data.code?(e.data.list.forEach(function(t){t._open_=!0}),t.tableData=e.data.list):t.$message(e.data.msg)}).catch(function(){t.loading=!1,t.$message("对不起！请稍后再试")})},editData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.id=e,this.dialogVisible=!0,this.antiShake.antiShake(function(a,i){t.axios.post(t.getApi("seller/auth/shop_cate_edit"),"id="+e).then(function(e){a(e),0===e.data.code?(t.ruleForm=s()(t.ruleForm,e.data.info),t.fl=e.data.cate_list):t.$message(e.data.msg)}).catch(function(t){i(t)})})},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){t&&e.antiShake.antiShake(function(t,a){e.axios.post(e.getApi("seller/auth/shop_cate_save"),e.dafa({id:e.id,name:e.ruleForm.name,pid:e.ruleForm.pid,sort:e.ruleForm.sort,show:e.ruleForm.show})).then(function(a){t(a),0===a.data.code&&(e.dialogVisible=!1,e.getDataList())}).catch(function(t){a(t)})})})},delData:function(t){var e=this;this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.antiShake.antiShake(function(a,i){e.axios.post(e.getApi("seller/auth/shop_cate_del"),e.dafa({id:t})).then(function(t){a(t),0===t.data.code&&e.getDataList()}).catch(function(t){i(t)})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}},watch:{dialogVisible:function(t){t||(this.ruleForm={id:"",pid:0,name:"",sort:"",show:0})}},components:{hint:l.a}},c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"admin prop-box"},[a("div",{staticClass:"m-admin m-prop-box"},[a("hint",{attrs:{title:t.hint.title,content:t.hint.content}}),t._v(" "),a("h2",[t._v("店铺分类列表\n      "),a("el-button",{staticClass:"add-admin-btn add-btn",attrs:{type:"text",icon:"plus",size:"small"},on:{click:function(e){t.editData("")}}},[t._v("添加分类\n      ")])],1),t._v(" "),t._m(0,!1,!1),t._v(" "),a("div",{staticClass:"fl-con"},t._l(t.tableData,function(e){return a("div",{staticClass:"fl-dd"},[a("p",{staticClass:"clear-fl"},[a("span",{staticClass:"fl-name"},[a("i",{staticClass:"iconfont icon-shanchu4 fl-i",on:{click:function(t){e._open_=!e._open_}}}),t._v(" "),a("em",{staticClass:"fl-name-box"},[t._v(t._s(e.name))]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(e){t.editData("")}}},[t._v("新增下级")])],1),t._v(" "),a("span",{staticClass:"fl-item"},[t._v(t._s(e.sort))]),t._v(" "),0==e.show?[a("span",{staticClass:"fl-item"},[t._v("不显示")])]:[a("span",{staticClass:"fl-item"},[t._v("显示")])],t._v(" "),a("span",{staticClass:"fl-item"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.editData(e.id)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.delData(e.id)}}},[t._v("删除")])],1)],2),t._v(" "),t._l(e.childs,function(i){return e._open_?a("p",{staticClass:"clear-fl"},[a("span",{staticClass:"fl-name"},[a("i",{staticClass:"iconfont icon-dian2 fl-i-w"}),t._v(" "),a("em",{staticClass:"fl-name-box"},[t._v(t._s(i.name))])]),t._v(" "),a("span",{staticClass:"fl-item"},[t._v(t._s(i.sort))]),t._v(" "),0==i.show?[a("span",{staticClass:"fl-item"},[t._v("不显示")])]:[a("span",{staticClass:"fl-item"},[t._v("显示")])],t._v(" "),a("span",{staticClass:"fl-item"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.editData(i.id)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){t.delData(i.id)}}},[t._v("删除")])],1)],2):t._e()})],2)}))],1),t._v(" "),a("el-dialog",{attrs:{title:"选择经营分类",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"分类名称",prop:"name"}},[a("el-input",{staticClass:"el-ipt",model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"上级分类",prop:"pid"}},[a("el-select",{staticClass:"el-ipt",attrs:{placeholder:"请选择"},model:{value:t.ruleForm.pid,callback:function(e){t.$set(t.ruleForm,"pid",e)},expression:"ruleForm.pid"}},[a("el-option",{attrs:{label:"顶级分类",value:0}}),t._v(" "),t._l(t.fl,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"sort"}},[a("el-input",{staticClass:"el-ipt",model:{value:t.ruleForm.sort,callback:function(e){t.$set(t.ruleForm,"sort",e)},expression:"ruleForm.sort"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否显示",prop:"show"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"是","inactive-text":"否","active-value":1,"inactive-value":0},model:{value:t.ruleForm.show,callback:function(e){t.$set(t.ruleForm,"show",e)},expression:"ruleForm.show"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("确 定")])],1)],1)],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",{staticClass:"fl-tit"},[a("span",{staticClass:"fl-name"},[t._v("分类名称")]),a("span",{staticClass:"fl-item"},[t._v("排序")]),a("span",{staticClass:"fl-item"},[t._v("显示")]),a("span",{staticClass:"fl-item"},[t._v("操作")])])}],d={render:c,staticRenderFns:r},f=d,u=a("VU/8"),m=i,p=u(o,f,!1,m,"data-v-5cf6ec1e",null);e.default=p.exports}});