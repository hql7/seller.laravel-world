webpackJsonp([19],{"1Eq5":function(t,e,l){var n=l("9J1U");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);l("rjj0")("b5a41c1e",n,!0)},"9J1U":function(t,e,l){e=t.exports=l("FZ+f")(!1),e.push([t.i,"\n.yj-box[data-v-73d64bce] {\n  line-height: 40px;\n  font-size: 14px;\n  font-weight: bold;\n  color: #f51322;\n}\n",""])},K0oj:function(t,e,l){"use strict";function n(t){l("1Eq5")}Object.defineProperty(e,"__esModule",{value:!0});var i=l("6Trz"),a={data:function(){return{hint:{title:"操作提示",content:"导航管理，有商家设置管理。"},tableData:[],multipleSelection:[],dialogVisible:!1,id:"",del_id:[],fl:{cl1:"",cl1_list:[],cl2:"",cl2_list:[],cl3:"",cl3_list:[]},yj_percent:"",loading:!0}},created:function(){this.get_cms()},methods:{get_cms:function(){var t=this;this.axios.post(this.getApi("seller/auth/shop_fid_list")).then(function(e){t.loading=!1,0===e.data.code?t.tableData=e.data.list:t.$message(e.data.msg)}).catch(function(){t.loading=!1,t.$message("对不起！请稍后再试")})},edit_cms:function(){this.dialogVisible=!0,this.getFL(0,0)},toggleSelection:function(t){var e=this;t?t.forEach(function(t){e.$refs.multipleTable.toggleRowSelection(t)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(t){this.multipleSelection=t},del_cms:function(t){var e=this;this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.antiShake.antiShake(function(l,n){e.axios.post(e.getApi("seller/auth/shop_fid_del"),e.dafa({id:t})).then(function(t){l(t),0===t.data.code&&e.get_cms()}).catch(function(t){n(t),console.log(t)})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},getFL:function(t,e){var l=this;this.axios.post(this.getApi("coms/get_cate"),"id="+t).then(function(t){if(0===t.data.code)switch(e){case 0:l.fl.cl1_list=t.data.list;break;case 1:l.fl.cl2_list=t.data.list,l.fl.cl2="",l.fl.cl3_list=[],l.fl.cl3="",l.yj_percent="";break;case 2:l.fl.cl3_list=t.data.list,l.fl.cl3="",l.yj_percent=""}})},choiceYJ:function(t){var e=this;this.fl.cl3_list.forEach(function(l){l.id==t&&(e.yj_percent=l.yj_percent)})},sendApply:function(){var t=this;this.fl.cl3&&this.antiShake.antiShake(function(e,l){t.axios.post(t.getApi("seller/auth/shop_fid_apply"),t.dafa({cate_id:t.fl.cl3})).then(function(l){e(l),0===l.data.code&&(t.dialogVisible=!1,t.get_cms())}).catch(function(t){l(t)})})}},computed:{},components:{hint:i.a}},o=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"type-list prop-box"},[l("div",{staticClass:"m-type-list m-prop-box"},[l("hint",{attrs:{title:t.hint.title,content:t.hint.content}}),t._v(" "),l("h2",[t._v("经营类目列表\n      "),l("el-button",{staticClass:"add-role-btn add-btn",attrs:{type:"text",icon:"plus",size:"small"},on:{click:function(e){t.edit_cms("")}}},[t._v("申请类目\n      ")])],1),t._v(" "),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",attrs:{"element-loading-text":"拼命加载中",data:t.tableData,stripe:"",border:""},on:{"selection-change":t.handleSelectionChange}},[l("el-table-column",{attrs:{prop:"fname",label:"经营类目","min-width":"300"}}),t._v(" "),l("el-table-column",{attrs:{prop:"yj_percent",label:"佣金比例(%)","min-width":"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"status",label:"申请状态","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.status?l("span",[t._v("待审核")]):1==e.row.status?l("span",[t._v("已通过")]):l("span",[t._v("已拒绝")])]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"操作","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{type:"danger",size:"small",icon:"delete"},on:{click:function(l){t.del_cms(e.row.id)}}},[t._v("删除\n          ")])]}}])})],1)],1),t._v(" "),l("el-dialog",{attrs:{title:"选择经营分类",visible:t.dialogVisible,width:"80%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[l("el-select",{attrs:{placeholder:"请选择"},on:{change:function(e){t.getFL(e,1)}},model:{value:t.fl.cl1,callback:function(e){t.$set(t.fl,"cl1",e)},expression:"fl.cl1"}},[l("el-option",{attrs:{label:"请选择",value:"",disabled:""}}),t._v(" "),t._l(t.fl.cl1_list,function(t){return l("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})],2),t._v(" "),l("el-select",{attrs:{placeholder:"请选择"},on:{change:function(e){t.getFL(e,2)}},model:{value:t.fl.cl2,callback:function(e){t.$set(t.fl,"cl2",e)},expression:"fl.cl2"}},[l("el-option",{attrs:{label:"请选择",value:"",disabled:""}}),t._v(" "),t._l(t.fl.cl2_list,function(t){return l("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})],2),t._v(" "),l("el-select",{attrs:{placeholder:"请选择"},on:{change:t.choiceYJ},model:{value:t.fl.cl3,callback:function(e){t.$set(t.fl,"cl3",e)},expression:"fl.cl3"}},[l("el-option",{attrs:{label:"请选择",value:"",disabled:""}}),t._v(" "),t._l(t.fl.cl3_list,function(t){return l("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})],2),t._v(" "),l("p",{staticClass:"yj-box"},[t._v("佣金比例："+t._s(t.yj_percent)+"%")]),t._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:t.sendApply}},[t._v("确 定")])],1)],1)],1)},s=[],c={render:o,staticRenderFns:s},r=c,d=l("VU/8"),f=n,u=d(a,r,!1,f,"data-v-73d64bce",null);e.default=u.exports}});