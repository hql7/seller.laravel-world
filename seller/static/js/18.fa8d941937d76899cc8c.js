webpackJsonp([18],{"59HW":function(e,t,o){var n=o("5BzT");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);o("rjj0")("6d0d1a3c",n,!0)},"5BzT":function(e,t,o){t=e.exports=o("FZ+f")(!1),t.push([e.i,"\n.el-table img[data-v-9db33cc6] {\n  width: 35px;\n  height: 35px;\n  background-color: #1cadf1;\n}\n.avatar-uploader .el-upload[data-v-9db33cc6] {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload[data-v-9db33cc6]:hover {\n  border-color: #20a0ff;\n}\n.avatar-uploader-icon[data-v-9db33cc6] {\n  font-size: 28px;\n  color: #8c939d;\n  width: 178px;\n  height: 178px;\n  line-height: 178px;\n  text-align: center;\n}\n.avatar[data-v-9db33cc6] {\n  width: 178px;\n  height: 178px;\n  display: block;\n  background-color: #ededed;\n}\n",""])},iOdk:function(e,t,o){"use strict";function n(e){o("59HW")}Object.defineProperty(t,"__esModule",{value:!0});var a=o("6Trz"),l=o("zVef"),r={data:function(){return{hint:{title:"操作提示",content:"导航管理，有商家设置管理。"},tableData:[],multipleSelection:[],add_show:!1,crumb:{from:"导航管理",now:"导航编辑"},ruleForm:{name:"",url:"",type:"",show:1,sort:1,open:0},rules:{name:[{required:!0,message:"不能为空",trigger:"blur"}],type:[{required:!0,message:"不能为空"}]},id:"",del_id:[],loading:!0}},created:function(){this.get_cms()},methods:{go_back:function(){this.add_show=!1},get_cms:function(){var e=this;this.axios.post(this.getApi("seller/auth/shop_nav_list")).then(function(t){e.loading=!1,0===t.data.code?e.tableData=t.data.list:e.$message(t.data.msg)}).catch(function(){e.loading=!1,e.$message("对不起！请稍后再试")})},edit_cms:function(e){var t=this;this.id=e,this.antiShake.antiShake(function(o,n){t.axios.post(t.getApi("seller/auth/shop_nav_edit"),"id="+e).then(function(e){o(e),0===e.data.code&&(t.add_show=!0,t.ruleForm=e.data.info)}).catch(function(e){n(e)})})},toggleSelection:function(e){var t=this;e?e.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.multipleSelection=e},del_cms:function(e){var t=this;this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.antiShake.antiShake(function(o,n){t.axios.post(t.getApi("seller/auth/shop_nav_del"),t.dafa({id:e})).then(function(e){o(e),t.del_id=[],0===e.data.code?t.get_cms():t.toggleSelection()}).catch(function(e){console.log(e),t.$message("对不起！请稍后再试"),t.toggleSelection(),t.del_id=[]})})}).catch(function(){t.toggleSelection(),t.del_id=[],t.$message({type:"info",message:"已取消删除"})})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message("请检查填写信息是否有误"),!1;t.antiShake.antiShake(function(e,o){t.axios.post(t.getApi("seller/auth/shop_nav_save"),t.dafa({id:t.id,name:t.ruleForm.name,url:t.ruleForm.url,open:t.ruleForm.open,sort:t.ruleForm.sort,show:t.ruleForm.show})).then(function(o){e(o),0===o.data.code&&(t.add_show=!1,t.get_cms())}).catch(function(e){o(e),console.log(e)})})})}},computed:{},components:{hint:a.a,crumb:l.a}},i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"type-list prop-box"},[o("div",{staticClass:"m-type-list m-prop-box"},[o("hint",{attrs:{title:e.hint.title,content:e.hint.content}}),e._v(" "),o("h2",[e._v("导航管理\n      "),o("el-button",{staticClass:"add-role-btn add-btn",attrs:{type:"text",icon:"plus",size:"small"},on:{click:function(t){e.edit_cms("")}}},[e._v("添加导航\n      ")])],1),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{"element-loading-text":"拼命加载中",data:e.tableData,stripe:"",border:""},on:{"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{prop:"name",label:"导航名称","min-width":"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"open",label:"打开方式","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.open?o("span",[e._v("本窗口")]):o("span",[e._v("新窗口")])]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"show",label:"是否显示","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.show?o("span",[e._v("否")]):o("span",[e._v("是")])]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"sort",label:"排序","min-width":"70"}}),e._v(" "),o("el-table-column",{attrs:{label:"操作","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"primary",size:"small",icon:"edit"},on:{click:function(o){e.edit_cms(t.row.id)}}},[e._v("编辑\n          ")]),e._v(" "),o("el-button",{attrs:{type:"danger",size:"small",icon:"delete"},on:{click:function(o){e.del_cms(t.row.id)}}},[e._v("删除\n          ")])]}}])})],1)],1),e._v(" "),e.add_show?o("div",{staticClass:"add-type prop"},[o("crumb",{attrs:{from:e.crumb.from,now:e.crumb.now},on:{goBack:e.go_back}}),e._v(" "),o("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"240px"}},[o("el-form-item",{attrs:{label:"导航名称",prop:"name"}},[o("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"导航链接地址"}},[o("el-input",{model:{value:e.ruleForm.url,callback:function(t){e.$set(e.ruleForm,"url",t)},expression:"ruleForm.url"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"打开方式 "}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.open,callback:function(t){e.$set(e.ruleForm,"open",t)},expression:"ruleForm.open"}},[o("el-option",{attrs:{label:"本窗口",value:0}}),e._v(" "),o("el-option",{attrs:{label:"新窗口",value:1}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"排序"}},[o("el-input",{model:{value:e.ruleForm.sort,callback:function(t){e.$set(e.ruleForm,"sort",t)},expression:"ruleForm.sort"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"是否显示"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.show,callback:function(t){e.$set(e.ruleForm,"show",t)},expression:"ruleForm.show"}},[o("el-option",{attrs:{label:"否",value:0}}),e._v(" "),o("el-option",{attrs:{label:"是",value:1}})],1)],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("确认提交")])],1)],1)],1):e._e()])},s=[],c={render:i,staticRenderFns:s},u=c,d=o("VU/8"),m=n,p=d(r,u,!1,m,"data-v-9db33cc6",null);t.default=p.exports}});